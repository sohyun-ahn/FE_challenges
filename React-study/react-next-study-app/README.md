# Next.js

The React Framework for the Web

Q. 프레임워크란? - 제어역전으로 설명
A. 컨트롤 제어의 권한(주도성이) 소프트웨어 자체에 있는 것 = 프레임워크

# Next.js를 왜쓰는가?

(쌩)리액트만을 쓸 경우에는 CSR로 인해서 SEO에 어려움이 있음
-> SSR(Server Side Rendering)의 필요성이 대두됨
-> SSR,SSG를 쉽게 그리고 Robust하게 쓸 수 있도록 Next.js라는 프레임워크가 만들어짐

# Next.js의 App Router 에는 다양한 컨벤션(규칙)들이 있다.

1. (가장중요)
   -> App 디렉터리 아래에 있는 디렉터리 경로가 그대로 url이 된다
   app바로 아래의 page.tsx => HomePage

2. 해당 디렉터리의 경로에 대응되는 페이지를 만드려면 `page.tsx`
3. 해당 디렉터리의 경로와 그 하위 디렉터리 경로에 대응되는 레이아웃을 만드려면 `layout.tsx`
4. 동적라우팅(dynamic routing)에 해당하는 경로를 만들 떄에는 대괄호를 사용한다. 사용법: params.(이름)
5. app디렉터리 하위에서 경로에 포함되지 않는 디렉터리를 만드는 방법 두가지가 있다.
   1. private folders 만드는 방법 : '\_디렉터리네임' 으로 이름을 만들면 렌더링과정에서 제외됨 -> app routing 시스템에서 제외됨
   2. 디렉터리명을 소괄호로 감싸기 : '(디렉터리네임)' 경로에서 제외됨 -> app routing시스템에 여전히 존재함. 즉, layout.txs나 page.tsx를 사용할 수 있음
6. Next에서는 모든 컴포넌트는 기본적으로 SSR된다.
   1. 다음의 경우들은 SSR을 사용할 수 없다.
      1. 브라우저에서만 실행 가능한 코드를 포함한 컴포넌트 ex) window, 이벤트들(onclick, onsubmit), react hook을 사용할 때
   2. 클라이언트 컴포넌트
      1. 위의 SSR을 사용할 수 없는 경우들은 클라이언트 컴포넌트로 만들어줘야한다.
      2. 파일의 최상단에 'use client';라고 적어주면 가능


# Summary 2024-03-19
1. app 디렉터리 하위의 디렉터리 경로들이 그 자체로 url이 되지만, 예외가 있다.
   1. 디렉터리명 가장 앞에 _ 를 붙였을 경우 : 디렉터리 자제를 라우팅 시스템에서 제외하고 싶을 때 사용 (ex. components, utils 들을 모아두고 싶을 때)
   2. 디렉터리명을 소괄호로 감쌌을 경우 : 경로에서는 제외하지만 라우팅 시스템에 여전히 포함시키고 싶을 경우 사용 (ex. 경로상의 특별한 layer를 추가해두고 싶을 때 사용, 로그인을 한 사람만 볼 수 있는 페이지들 or 로그인을 안한 사람만 모아두는 페이지들)

2. `use client`의 사용
   - 브라우저에서만 돌아갈 수 있는 코드를 컴포넌트 내에 작성했을 경우
   - hook을 사용했을 경우
   - Next를 사용하다 많은 에러를 만날 경우 `use client`를 쓰면 
